(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef8541fe"],{"0451":function(t,e,n){var r=n("9cff"),i=n("d1cb"),o=n("839a")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},"078c":function(t,e,n){var r=n("0b34"),i=n("76e3"),o=n("3d8a"),a=n("1a58"),s=n("bb8b").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},"0c84":function(t,e,n){"use strict";var r=n("1663")(!0);n("120f")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},1374:function(t,e,n){"use strict";var r=n("bb8b"),i=n("5edc");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},"1a58":function(t,e,n){e.f=n("839a")},2843:function(t,e,n){"use strict";var r=n("1e4d"),i=n("e99b"),o=n("8078"),a=n("b1d4"),s=n("dcea"),l=n("201c"),c=n("1374"),u=n("e3bb");i(i.S+i.F*!n("1a9a")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,f,p=o(t),h="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,v=void 0!==m,b=0,g=u(p);if(v&&(m=r(m,d>2?arguments[2]:void 0,2)),void 0==g||h==Array&&s(g))for(e=l(p.length),n=new h(e);e>b;b++)c(n,b,v?m(p[b],b):p[b]);else for(f=g.call(p),n=new h;!(i=f.next()).done;b++)c(n,b,v?a(f,m,[i.value,b],!0):i.value);return n.length=b,n}})},"2b3d":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:15}},[n("el-card",{staticClass:"box-card",attrs:{shadow:"never","body-style":"padding: 0px;"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[t._v("图片列表")]),n("el-popover",{attrs:{placement:"right",trigger:"manual"},model:{value:t.deleteCheckDoubleVisible,callback:function(e){t.deleteCheckDoubleVisible=e},expression:"deleteCheckDoubleVisible"}},[n("div",{staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{plain:"",type:"danger"},on:{click:t.onDeleteCheckDoubleClick}},[n("i",{staticClass:"fas fa-check-double"}),t._v(" 确认删除\n              ")])],1),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{slot:"reference",type:t.isGoldDelete?"warning":"",plain:!t.isGoldDelete},on:{click:t.onDeleteClick},nativeOn:{blur:function(e){return t.onDeleteBlur.apply(null,arguments)}},slot:"reference"},[n("i",{staticClass:"far fa-trash-alt"}),t._v(" 删除")])],1),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{plain:""},on:{click:t.onCompressClick}},[n("i",{staticClass:"far fa-images"}),t._v(" 开始压缩")]),n("el-popover",{attrs:{placement:"bottom",width:"360",trigger:"click"},model:{value:t.uploadVisible,callback:function(e){t.uploadVisible=e},expression:"uploadVisible"}},[n("el-upload",{attrs:{drag:"",action:"",multiple:"","show-file-list":!1,"auto-upload":!1,"on-change":t.onChange,accept:"image/*"}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[t._v("\n                将图片拖到此处，或"),n("em",[t._v("点击这里")]),t._v("选择图片\n              ")])]),n("el-button",{attrs:{slot:"reference",plain:""},slot:"reference"},[n("i",{staticClass:"fas fa-upload"}),t._v(" 上传图片")])],1)],1),n("el-table",{ref:"imageTable",attrs:{stripe:"",height:"calc(100vh - 152px)",data:t.fileList},on:{"selection-change":t.onSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"图片名称",prop:"name","min-width":"200"}}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"类型",prop:"raw[type]"}}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.compressStatus?t._e():n("span",[t._v("待压缩")]),1===e.row.compressStatus?n("span",{staticStyle:{color:"#E6A23C"}},[t._v("压缩中")]):t._e(),2===e.row.compressStatus?n("span",{staticStyle:{color:"#67C23A"}},[t._v("已完成")]):t._e(),3===e.row.compressStatus?n("span",{staticStyle:{color:"#F56C6C"}},[t._v("不支持")]):t._e()]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"大小"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t.util.formatSize(e.row.size,"0 KB"))+"\n            ")]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"压缩后大小","min-width":"94"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t.util.formatSize(e.row.afterCompressSize,"-"))+"\n            ")]}}])}),n("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"压缩比例"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t.getCompressionRatio(e.row))+"\n            ")]}}])})],1)],1)],1),n("el-col",{attrs:{span:9}},[n("image-compress-options",{model:{value:t.options,callback:function(e){t.options=e},expression:"options"}})],1)],1)],1)},i=[];n("9f60"),n("94f0"),n("0c84"),n("2843"),n("4057");function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n("e5b4"),n("a450"),n("e186");function a(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,l,"next",t)}function l(t){a(o,r,i,s,l,"throw",t)}s(void 0)}))}}n("a7e5"),n("1bc7");var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-card",{staticClass:"box-card",attrs:{shadow:"never","body-style":"padding: 0px;"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[t._v("压缩质量")]),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("输出图像的质量。注意，值为1时，输出图像可能比原来更大。")]),n("span",{staticStyle:{"margin-top":"15px",display:"block"}},[t._v("示例：")]),n("el-table",{staticStyle:{"margin-top":"15px",width:"500px"},attrs:{data:t.tableData,border:!0,size:"small",stripe:"","header-cell-style":{background:"#F7F7F7"}}},[n("el-table-column",{attrs:{prop:"quality",label:"压缩质量"}}),n("el-table-column",{attrs:{prop:"inputSize",label:"输入大小"}}),n("el-table-column",{attrs:{prop:"outputSize",label:"输出大小"}}),n("el-table-column",{attrs:{prop:"compressionRatio",label:"压缩比例"}}),n("el-table-column",{attrs:{prop:"description",label:"说明"}})],1)],1),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})]),n("el-button",{attrs:{plain:""},on:{click:t.onResetQualityClick}},[n("i",{staticClass:"fas fa-redo-alt"}),t._v("\n         恢复默认\n      ")])],1),n("el-slider",{staticStyle:{margin:"0 20px"},attrs:{step:.1,max:1},model:{value:t.options.quality,callback:function(e){t.$set(t.options,"quality",e)},expression:"options.quality"}})],1),n("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"},attrs:{shadow:"never","body-style":"padding: 0px;"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[t._v("\n        高级选项\n        "),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("如不清楚选项的用途，保持默认值即可。")])]),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})])],1),n("el-button",{attrs:{plain:""},on:{click:t.onResetOptionsClick}},[n("i",{staticClass:"fas fa-redo-alt"}),t._v("\n         恢复默认\n      ")])],1),n("el-form",{staticStyle:{height:"calc(100vh - 300px)",padding:"20px","overflow-y":"auto"},attrs:{"label-width":"97px","label-position":"left"}},[n("el-form-item",{attrs:{label:"严格模式"}},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.options.strict,callback:function(e){t.$set(t.options,"strict",e)},expression:"options.strict"}}),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("表示在压缩图像的大小大于原始图像的大小时是否输出原始图像而不是压缩图像，但下列情况除外：")]),n("ul",{staticStyle:{margin:"12px 0 0"}},[n("li",[t._v("设置了“最小宽度”选项，且其值大于图像的原始宽度")]),n("li",[t._v("设置了“最小高度”选项，且其值大于图像的原始高度")]),n("li",[t._v("设置了“宽度”选项，且其值大于图像原始宽度")]),n("li",[t._v("设置了“高度”选项，且其值大于图像原始高度")]),n("li",[t._v("设置了“MIME类型”选项，且其值与图像的MIME类型不同")])])]),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})])],1),n("el-form-item",{attrs:{label:"检查方向"}},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.options.checkOrientation,callback:function(e){t.$set(t.options,"checkOrientation",e)},expression:"options.checkOrientation"}}),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("表示是否读取图像的Exif方向值（仅限JPEG图像），然后使用该值自动旋转或翻转图像。")]),n("ul",{staticStyle:{margin:"12px 0 0"}},[n("li",[t._v("\n                不要总是相信这一点，因为有些JPEG图像的方向值不正确（不是标准的）\n              ")]),n("li",[t._v("\n                如果目标映像的大小太大（例如，大于10\n                MB），则应禁用此选项以避免内存不足崩溃\n              ")]),n("li",[t._v("\n                压缩后图像的Exif信息将被删除，因此如果您需要Exif信息，可能还需要上载原始图像\n              ")])])]),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})])],1),n("el-form-item",{attrs:{label:"最大宽度"}},[n("el-input-number",{attrs:{min:1,placeholder:"无限制"},on:{change:t.onMaxWidthChange},model:{value:t.options.maxWidth,callback:function(e){t.$set(t.options,"maxWidth",e)},expression:"options.maxWidth"}}),t._v("\n        像素\n        "),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("输出图像的最大宽度。该值应大于0。")]),n("div",{staticStyle:{"margin-top":"15px"}},[t._v("\n              为避免获得空白输出图像，可能需要将该值设置在一定的范围内，因为"),n("a",{attrs:{href:"https://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element",target:"_blank"}},[t._v("canvas元素的大小限制")]),t._v("，建议不超过4096。\n            ")])]),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})])],1),n("el-form-item",{attrs:{label:"最大高度"}},[n("el-input-number",{attrs:{min:1,placeholder:"无限制"},on:{change:t.onMaxHeightChange},model:{value:t.options.maxHeight,callback:function(e){t.$set(t.options,"maxHeight",e)},expression:"options.maxHeight"}}),t._v("\n        像素\n        "),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("输出图像的最大高度。该值应大于0。")]),n("div",{staticStyle:{"margin-top":"15px"}},[t._v("\n              为避免获得空白输出图像，可能需要将该值设置在一定的范围内，因为"),n("a",{attrs:{href:"https://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element",target:"_blank"}},[t._v("canvas元素的大小限制")]),t._v("，建议不超过4096。\n            ")])]),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})])],1),n("el-form-item",{attrs:{label:"最小宽度"}},[n("el-input-number",{attrs:{min:1,max:t.options.maxWidth,placeholder:"无限制"},model:{value:t.options.minWidth,callback:function(e){t.$set(t.options,"minWidth",e)},expression:"options.minWidth"}}),t._v("\n        像素\n        "),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("输出图像的最小宽度。该值应大于0且不应大于“最大宽度”。")])]),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})])],1),n("el-form-item",{attrs:{label:"最小高度"}},[n("el-input-number",{attrs:{min:1,max:t.options.minWidth,placeholder:"无限制"},model:{value:t.options.minHeight,callback:function(e){t.$set(t.options,"minHeight",e)},expression:"options.minHeight"}}),t._v("\n        像素\n        "),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("输出图像的最小高度。该值应大于0且不应大于“最大高度”。")])]),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})])],1),n("el-form-item",{attrs:{label:"宽度"}},[n("el-input-number",{attrs:{min:1,placeholder:"与源图相同"},model:{value:t.options.width,callback:function(e){t.$set(t.options,"width",e)},expression:"options.width"}}),t._v("\n        像素\n        "),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("输出图像的宽度。如果未指定，将使用原图宽度，或者如果设置了“高度”选项，则将根据自然纵横比自动计算宽度。")])]),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})])],1),n("el-form-item",{attrs:{label:"高度"}},[n("el-input-number",{attrs:{min:1,placeholder:"与源图相同"},model:{value:t.options.hidth,callback:function(e){t.$set(t.options,"hidth",e)},expression:"options.hidth"}}),t._v("\n        像素\n        "),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("输出图像的高度。如果未指定，将使用原图高宽度，或者如果设置了“宽度”选项，则将根据自然纵横比自动计算高度。")])]),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})])],1),n("el-form-item",{attrs:{label:"MIME类型"}},[n("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"自动匹配"},model:{value:t.options.mimeType,callback:function(e){t.$set(t.options,"mimeType",e)},expression:"options.mimeType"}}),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("输出图像的MIME类型。默认情况下，将使用源图像文件的原始MIME类型。")])]),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})])],1),n("el-form-item",{attrs:{label:"转换器大小"}},[n("el-input-number",{attrs:{min:0,placeholder:"5000000"},model:{value:t.options.convertSize,callback:function(e){t.$set(t.options,"convertSize",e)},expression:"options.convertSize"}}),t._v("\n        字节\n        "),n("el-popover",{attrs:{placement:"top",trigger:"click"}},[n("div",{staticClass:"sunken"},[n("span",[t._v("\n              超过此值的PNG文件将转换为JPEG。\n            ")]),n("span",{staticStyle:{"margin-top":"15px",display:"block"}},[t._v("示例：")]),n("el-table",{staticStyle:{"margin-top":"15px",width:"600px"},attrs:{data:t.tableData2,border:!0,size:"small",stripe:"","header-cell-style":{background:"#F7F7F7"}}},[n("el-table-column",{attrs:{prop:"convertSize",label:"压缩质量",width:"80"}}),n("el-table-column",{attrs:{prop:"inputSize",label:"输入大小（类型）"}}),n("el-table-column",{attrs:{prop:"outputSize",label:"输出大小（类型）"}}),n("el-table-column",{attrs:{prop:"compressionRatio",label:"压缩比例",width:"100"}})],1)],1),n("i",{staticClass:"fa fa-question-circle-o",attrs:{slot:"reference"},slot:"reference"})])],1)],1)],1)],1)},c=[],u={quality:.8,strict:!0,checkOrientation:!0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,width:void 0,height:void 0,mimeType:void 0,convertSize:0},f={model:{prop:"value",event:"change"},props:{value:{type:Object}},computed:{options:{get:function(){return this.value},set:function(t){this.$emit("change",t)}}},watch:{options:{handler:function(t){localStorage.setItem("imageCompressOptions",JSON.stringify(t))},deep:!0}},mounted:function(){this.options=JSON.parse(JSON.stringify(u))},data:function(){return{tableData:[{quality:"0",inputSize:"2.12 MB",outputSize:"114.61 KB",compressionRatio:"94.72%",description:"-"},{quality:"0.2",inputSize:"2.12 MB",outputSize:"349.57 KB",compressionRatio:"83.90%",description:"-"},{quality:"0.4",inputSize:"2.12 MB",outputSize:"517.10 KB",compressionRatio:"76.18%",description:"-"},{quality:"0.6",inputSize:"2.12 MB",outputSize:"694.99 KB",compressionRatio:"67.99%",description:"推荐"},{quality:"0.8",inputSize:"2.12 MB",outputSize:"1.14 MB",compressionRatio:"46.41%",description:"推荐"},{quality:"1",inputSize:"2.12 MB",outputSize:"2.12 MB",compressionRatio:"0%",description:"不推荐"}],tableData2:[{convertSize:"5 MB",inputSize:"1.87 MB (PNG)",outputSize:"1.87 MB (PNG)",compressionRatio:"0%"},{convertSize:"5 MB",inputSize:"5.66 MB (PNG)",outputSize:"450.24 KB (JPEG)",compressionRatio:"92.23%"},{convertSize:"5 MB",inputSize:"9.74 MB (PNG)",outputSize:"883.89 KB (JPEG)",compressionRatio:"91.14%"}]}},methods:{onMaxWidthChange:function(t,e){t<this.options.minWidth&&(this.options.minWidth=t)},onMaxHeightChange:function(t,e){t<this.options.minHeight&&(this.options.minHeight=t)},onResetQualityClick:function(){this.options.quality=u.quality},onResetOptionsClick:function(){this.options=Object.assign({},u,{quality:this.options.quality})}}},p=f,h=n("cba8"),d=Object(h["a"])(p,l,c,!1,null,null,null),m=d.exports,v=n("5422"),b={getDeleteMessage:x},g=["噢，删得不错，我的老伙计。","噢，我的上帝，你还想删点什么？","嘿，老伙计，又来删东西了！","噢，我可怜的用户，你在删什么呢？","我敢打赌，你一定想删点什么，我向上帝保证！","噢，我简直不敢相信，你竟然点击了删除！","下次再有人点删除，我一定用皮靴狠狠地踢他的屁股！","我跟你打赌，你不会想去点第二次。"],y="你的手速已打败了全国 99.6% 的用户，获得纯金删除按钮一个",w=(new Date).getTime();function x(){v["Message"].closeAll();var t=localStorage.getItem("goldDelete");if("1"!=t&&(new Date).getTime()-w<200)return w=(new Date).getTime(),v["MessageBox"].confirm(y,"达成成就",{confirmButtonText:"确定",type:"success",center:!0,closeOnClickModal:!1,showCancelButton:!1}).then((function(){})).catch((function(){})),localStorage.setItem("goldDelete","1"),!0;var e=Math.floor(Math.random()*g.length);w=(new Date).getTime(),t?v["Message"].warning(g[e]):v["Message"].info(g[e])}n("ac67"),n("32ea");var S=n("d7f4"),k=n.n(S);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={compress:j};function j(t,e){return new Promise((function(n,r){new k.a(t,C(C({},e),{},{success:function(t){n(t)},error:function(t){console.log(t.message),r(t)}}))}))}var B=n("97d9");function E(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=M(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function M(t,e){if(t){if("string"===typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var R={components:{ImageCompressOptions:m},data:function(){return{options:{},fileList:[],selectionRows:[],deleteCheckDoubleVisible:!1,uploadVisible:!1,isGoldDelete:!1,util:B["a"]}},mounted:function(){"1"===localStorage.getItem("goldDelete")&&(this.isGoldDelete=!0);var t=localStorage.getItem("imageCompressOptions");t&&(this.options=JSON.parse(t))},methods:{onChange:function(t,e){var n=this;this.fileList=e,this.uploadVisible=!1,this.$nextTick((function(){n._checkImage(t.raw.type)?n.$refs.imageTable.toggleRowSelection(t,!0):n._setTableCall(e,t.uid,"compressStatus",3)}))},onDeleteBlur:function(){this.deleteCheckDoubleVisible=!1},onDeleteClick:function(){0===this.fileList.length?(this.deleteCheckDoubleVisible=!1,b.getDeleteMessage()&&(this.isGoldDelete=!0)):this.selectionRows.length<=0?(this.deleteCheckDoubleVisible=!1,this.$message.closeAll(),this.isGoldDelete?this.$message.warning("请选择需要删除的图片"):this.$message.info("请选择需要删除的图片")):this.deleteCheckDoubleVisible=!0},onDeleteCheckDoubleClick:function(){var t=this;this.selectionRows.forEach((function(e){t.fileList.splice(t.fileList.findIndex((function(t){return t.uid===e.uid})),1)})),this.deleteCheckDoubleVisible=!1},onSelectionChange:function(t){this.selectionRows=t},onCompressClick:function(){this.$message.closeAll(),0===this.fileList.length?this.$message.info("请先上传图片"):this.selectionRows.length<=0?(this.deleteCheckDoubleVisible=!1,this.$message.info("请选择需要压缩的图片")):this._syncCompress()},_syncCompress:function(){var t=s(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=E(this.selectionRows),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,this._compress(this.fileList,r,this.options);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])})));function e(){return t.apply(this,arguments)}return e}(),_checkImage:function(t){return t.indexOf("image/")>-1},_compress:function(){var t=s(regeneratorRuntime.mark((function t(e,n,r){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this._checkImage(n.raw.type)){t.next=3;break}return this.$message.warning("已跳过“".concat(n.name,"”，不支持该类型的文件")),t.abrupt("return");case 3:return this._setTableCall(e,n.uid,"compressStatus",1),t.next=6,_.compress(n.raw,r);case 6:i=t.sent,B["a"].downloadFileByBlob(i),this._setTableCall(e,n.uid,"compressStatus",2),this._setTableCall(e,n.uid,"afterCompressSize",i.size);case 10:case"end":return t.stop()}}),t,this)})));function e(e,n,r){return t.apply(this,arguments)}return e}(),_setTableCall:function(t,e,n,r){var i=t.findIndex((function(t){return t.uid===e})),a=t.find((function(t){return t.uid===e})),s=Object.assign({},a,o({},n,r));t.splice(i,1,s)},getCompressionRatio:function(t){return t.afterCompressSize?Math.round(t.afterCompressSize/t.size*100)+"%":"-"}}},z=R,L=Object(h["a"])(z,r,i,!1,null,null,null);e["default"]=L.exports},"32ea":function(t,e,n){var r=n("8078"),i=n("93ca");n("b2be")("keys",(function(){return function(t){return i(r(t))}}))},"3c56":function(t,e,n){var r=n("93ca"),i=n("0c29"),o=n("35d4");t.exports=function(t){var e=r(t),n=i.f;if(n){var a,s=n(t),l=o.f,c=0;while(s.length>c)l.call(t,a=s[c++])&&e.push(a)}return e}},4057:function(t,e,n){"use strict";n("de49");var r=n("a86f"),i=n("6bf8"),o=n("26df"),a="toString",s=/./[a],l=function(t){n("84e8")(RegExp.prototype,a,t,!0)};n("0926")((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?l((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):s.name!=a&&l((function(){return s.call(this)}))},4441:function(t,e,n){var r=n("3471"),i=n("21d9").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},"49f2":function(t,e,n){var r=n("d8b3")("meta"),i=n("9cff"),o=n("4fd4"),a=n("bb8b").f,s=0,l=Object.isExtensible||function(){return!0},c=!n("0926")((function(){return l(Object.preventExtensions({}))})),u=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[r].i},p=function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[r].w},h=function(t){return c&&d.NEED&&l(t)&&!o(t,r)&&u(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:p,onFreeze:h}},"70f2":function(t,e,n){var r=n("0451");t.exports=function(t,e){return new(r(t))(e)}},"94f0":function(t,e,n){"use strict";var r=n("0b34"),i=n("4fd4"),o=n("26df"),a=n("e99b"),s=n("84e8"),l=n("49f2").KEY,c=n("0926"),u=n("baa7"),f=n("bac3"),p=n("d8b3"),h=n("839a"),d=n("1a58"),m=n("078c"),v=n("3c56"),b=n("d1cb"),g=n("a86f"),y=n("9cff"),w=n("8078"),x=n("3471"),S=n("5d10"),k=n("5edc"),O=n("7ee3"),C=n("4441"),_=n("285b"),j=n("0c29"),B=n("bb8b"),E=n("93ca"),M=_.f,D=B.f,R=C.f,z=r.Symbol,L=r.JSON,P=L&&L.stringify,T="prototype",A=h("_hidden"),U=h("toPrimitive"),F={}.propertyIsEnumerable,I=u("symbol-registry"),q=u("symbols"),W=u("op-symbols"),G=Object[T],N="function"==typeof z&&!!j.f,$=r.QObject,H=!$||!$[T]||!$[T].findChild,J=o&&c((function(){return 7!=O(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=M(G,e);r&&delete G[e],D(t,e,n),r&&t!==G&&D(G,e,r)}:D,V=function(t){var e=q[t]=O(z[T]);return e._k=t,e},K=N&&"symbol"==typeof z.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof z},Y=function(t,e,n){return t===G&&Y(W,e,n),g(t),e=S(e,!0),g(n),i(q,e)?(n.enumerable?(i(t,A)&&t[A][e]&&(t[A][e]=!1),n=O(n,{enumerable:k(0,!1)})):(i(t,A)||D(t,A,k(1,{})),t[A][e]=!0),J(t,e,n)):D(t,e,n)},Q=function(t,e){g(t);var n,r=v(e=x(e)),i=0,o=r.length;while(o>i)Y(t,n=r[i++],e[n]);return t},X=function(t,e){return void 0===e?O(t):Q(O(t),e)},Z=function(t){var e=F.call(this,t=S(t,!0));return!(this===G&&i(q,t)&&!i(W,t))&&(!(e||!i(this,t)||!i(q,t)||i(this,A)&&this[A][t])||e)},tt=function(t,e){if(t=x(t),e=S(e,!0),t!==G||!i(q,e)||i(W,e)){var n=M(t,e);return!n||!i(q,e)||i(t,A)&&t[A][e]||(n.enumerable=!0),n}},et=function(t){var e,n=R(x(t)),r=[],o=0;while(n.length>o)i(q,e=n[o++])||e==A||e==l||r.push(e);return r},nt=function(t){var e,n=t===G,r=R(n?W:x(t)),o=[],a=0;while(r.length>a)!i(q,e=r[a++])||n&&!i(G,e)||o.push(q[e]);return o};N||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(W,n),i(this,A)&&i(this[A],t)&&(this[A][t]=!1),J(this,t,k(1,n))};return o&&H&&J(G,t,{configurable:!0,set:e}),V(t)},s(z[T],"toString",(function(){return this._k})),_.f=tt,B.f=Y,n("21d9").f=C.f=et,n("35d4").f=Z,j.f=nt,o&&!n("3d8a")&&s(G,"propertyIsEnumerable",Z,!0),d.f=function(t){return V(h(t))}),a(a.G+a.W+a.F*!N,{Symbol:z});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;rt.length>it;)h(rt[it++]);for(var ot=E(h.store),at=0;ot.length>at;)m(ot[at++]);a(a.S+a.F*!N,"Symbol",{for:function(t){return i(I,t+="")?I[t]:I[t]=z(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in I)if(I[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!N,"Object",{create:X,defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var st=c((function(){j.f(1)}));a(a.S+a.F*st,"Object",{getOwnPropertySymbols:function(t){return j.f(w(t))}}),L&&a(a.S+a.F*(!N||c((function(){var t=z();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))}))),"JSON",{stringify:function(t){var e,n,r=[t],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=e=r[1],(y(e)||void 0!==t)&&!K(t))return b(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!K(e))return e}),r[1]=e,P.apply(L,r)}}),z[T][U]||n("065d")(z[T],U,z[T].valueOf),f(z,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},"97d9":function(t,e,n){"use strict";n("a450");function r(t){if(Array.isArray(t))return t}var i=n("a7cb"),o=n("0874");function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return r(t)||Object(i["a"])(t)||Object(o["a"])(t)||a()}n("4057");function l(t,e){var n=document.createElement("script");n.setAttribute("src",t),document.body.insertBefore(n,document.body.lastChild),n.onload=e,n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,e())}:n.onload=e}function c(t,e,n){null==t&&(t="");var r=t.toString().length;if(r>=n)return t;for(var i=n-r,o="",a=0;a<i;a++)o+=e;return o+=t,o}function u(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return t}function f(){for(var t=[],e=97;e<123;e++)t.push(String.fromCharCode(e));return t}function p(t){var e=s(t),n=e[0],r=e.slice(1);return n.toUpperCase()+r.join("")}function h(t,e){var n=document.createElement("a");n.href=URL.createObjectURL(t),n.download=e||t.name,n.click()}function d(t,e){if(!t)return e||"0KB";var n=new Array("B","KB","MB","GB","TB","PB","EB","ZB","YB","BB","NB","DB","CB"),r=0,i=parseFloat(t);r=Math.floor(Math.log(i)/Math.log(1024));var o=i/Math.pow(1024,r);return o=o.toFixed(2),o+n[r]}e["a"]={loadJs:l,leftPad:c,getUppercaseLetters:u,getLowercaseLetters:f,toUpperCamelCase:p,downloadFileByBlob:h,formatSize:d}},"9f60":function(t,e,n){n("078c")("asyncIterator")},a450:function(t,e,n){var r=n("bb8b").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n("26df")&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},a7e5:function(t,e,n){"use strict";var r=n("e99b"),i=n("e9aa")(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("87b2")(o)},ac67:function(t,e,n){var r=n("e99b"),i=n("e7c8"),o=n("3471"),a=n("285b"),s=n("1374");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,r=o(t),l=a.f,c=i(r),u={},f=0;while(c.length>f)n=l(r,e=c[f++]),void 0!==n&&s(u,e,n);return u}})},b2be:function(t,e,n){var r=n("e99b"),i=n("76e3"),o=n("0926");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},d1cb:function(t,e,n){var r=n("cea2");t.exports=Array.isArray||function(t){return"Array"==r(t)}},d7f4:function(t,e,n){
/*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 */
(function(e,n){t.exports=n()})(0,(function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a.apply(this,arguments)}var s={exports:{}};(function(t){"undefined"!==typeof window&&function(e){var n=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),i=r&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),o=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(r||o)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,n,s,l,c,u,f,p,h;if(e=t.match(a),!e)throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),s=!!e[4],l=t.slice(e[0].length),c=s?atob(l):decodeURIComponent(l),u=new ArrayBuffer(c.length),f=new Uint8Array(u),p=0;p<c.length;p+=1)f[p]=c.charCodeAt(p);return r?new Blob([i?f:u],{type:n}):(h=new o,h.append(u),h.getBlob(n))};e.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(t,e,r){var i=this;setTimeout((function(){r&&n.toDataURL&&s?t(s(i.toDataURL(e,r))):t(i.mozGetAsFile("blob",e))}))}:n.toDataURL&&s&&(n.msToBlob?n.toBlob=function(t,e,r){var i=this;setTimeout((function(){(e&&"image/png"!==e||r)&&n.toDataURL&&s?t(s(i.toDataURL(e,r))):t(i.msToBlob(e))}))}:n.toBlob=function(t,e,n){var r=this;setTimeout((function(){t(s(r.toDataURL(e,n)))}))})),t.exports?t.exports=s:e.dataURLtoBlob=s}(window)})(s);var l=s.exports,c=function(t){return"undefined"!==typeof Blob&&(t instanceof Blob||"[object Blob]"===Object.prototype.toString.call(t))},u={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},f="undefined"!==typeof window&&"undefined"!==typeof window.document,p=f?window:{},h=function(t){return t>0&&t<1/0},d=Array.prototype.slice;function m(t){return Array.from?Array.from(t):d.call(t)}var v=/^image\/.+$/;function b(t){return v.test(t)}function g(t){var e=b(t)?t.substr(6):"";return"jpeg"===e&&(e="jpg"),".".concat(e)}var y=String.fromCharCode;function w(t,e,n){var r,i="";for(n+=e,r=e;r<n;r+=1)i+=y(t.getUint8(r));return i}var x=p.btoa;function S(t,e){var n=[],r=8192,i=new Uint8Array(t);while(i.length>0)n.push(y.apply(null,m(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(x(n.join("")))}function k(t){var e,n=new DataView(t);try{var r,i,o;if(255===n.getUint8(0)&&216===n.getUint8(1)){var a=n.byteLength,s=2;while(s+1<a){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){i=s;break}s+=1}}if(i){var l=i+4,c=i+10;if("Exif"===w(n,l,4)){var u=n.getUint16(c);if(r=18761===u,(r||19789===u)&&42===n.getUint16(c+2,r)){var f=n.getUint32(c+4,r);f>=8&&(o=c+f)}}}if(o){var p,h,d=n.getUint16(o,r);for(h=0;h<d;h+=1)if(p=o+12*h+2,274===n.getUint16(p,r)){p+=8,e=n.getUint16(p,r),n.setUint16(p,1,r);break}}}catch(m){e=1}return e}function O(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var C=/\.\d*(?:0|9){12}\d*$/;function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return C.test(t)?Math.round(t*e)/e:t}function j(t){var e=t.aspectRatio,n=t.height,r=t.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",o=h(r),a=h(n);if(o&&a){var s=n*e;("contain"===i||"none"===i)&&s>r||"cover"===i&&s<r?n=r/e:r=n*e}else o?n=r/e:a&&(r=n*e);return{width:r,height:n}}var B=p.ArrayBuffer,E=p.FileReader,M=p.URL||p.webkitURL,D=/\.\w+$/,R=p.Compressor,z=function(){function t(r,i){n(this,t),this.file=r,this.image=new Image,this.options=e(e({},u),i),this.aborted=!1,this.result=null,this.init()}return i(t,[{key:"init",value:function(){var t=this,e=this.file,n=this.options;if(c(e)){var r=e.type;if(b(r))if(M&&E)if(B||(n.checkOrientation=!1),M&&!n.checkOrientation)this.load({url:M.createObjectURL(e)});else{var i=new E,o=n.checkOrientation&&"image/jpeg"===r;this.reader=i,i.onload=function(n){var i=n.target,s=i.result,l={};if(o){var c=k(s);c>1||!M?(l.url=S(s,r),c>1&&a(l,O(c))):l.url=M.createObjectURL(e)}else l.url=s;t.load(l)},i.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},i.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},i.onloadend=function(){t.reader=null},o?i.readAsArrayBuffer(e):i.readAsDataURL(e)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(t){var n=this,r=this.file,i=this.image;i.onload=function(){n.draw(e(e({},t),{},{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=function(){n.fail(new Error("Aborted to load the image."))},i.onerror=function(){n.fail(new Error("Failed to load the image."))},p.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(p.navigator.userAgent)&&(i.crossOrigin="anonymous"),i.alt=r.name,i.src=t.url}},{key:"draw",value:function(t){var e=this,n=t.naturalWidth,r=t.naturalHeight,i=t.rotate,o=void 0===i?0:i,a=t.scaleX,s=void 0===a?1:a,c=t.scaleY,u=void 0===c?1:c,f=this.file,p=this.image,d=this.options,m=document.createElement("canvas"),v=m.getContext("2d"),g=Math.abs(o)%180===90,y=("contain"===d.resize||"cover"===d.resize)&&h(d.width)&&h(d.height),w=Math.max(d.maxWidth,0)||1/0,x=Math.max(d.maxHeight,0)||1/0,S=Math.max(d.minWidth,0)||0,k=Math.max(d.minHeight,0)||0,O=n/r,C=d.width,B=d.height;if(g){var E=[x,w];w=E[0],x=E[1];var M=[k,S];S=M[0],k=M[1];var D=[B,C];C=D[0],B=D[1]}y&&(O=C/B);var R=j({aspectRatio:O,width:w,height:x},"contain");w=R.width,x=R.height;var z=j({aspectRatio:O,width:S,height:k},"cover");if(S=z.width,k=z.height,y){var L=j({aspectRatio:O,width:C,height:B},d.resize);C=L.width,B=L.height}else{var P=j({aspectRatio:O,width:C,height:B}),T=P.width;C=void 0===T?n:T;var A=P.height;B=void 0===A?r:A}C=Math.floor(_(Math.min(Math.max(C,S),w))),B=Math.floor(_(Math.min(Math.max(B,k),x)));var U=-C/2,F=-B/2,I=C,q=B,W=[];if(y){var G=0,N=0,$=n,H=r,J=j({aspectRatio:O,width:n,height:r},{contain:"cover",cover:"contain"}[d.resize]);$=J.width,H=J.height,G=(n-$)/2,N=(r-H)/2,W.push(G,N,$,H)}if(W.push(U,F,I,q),g){var V=[B,C];C=V[0],B=V[1]}m.width=C,m.height=B,b(d.mimeType)||(d.mimeType=f.type);var K="transparent";if(f.size>d.convertSize&&d.convertTypes.indexOf(d.mimeType)>=0&&(d.mimeType="image/jpeg"),"image/jpeg"===d.mimeType&&(K="#fff"),v.fillStyle=K,v.fillRect(0,0,C,B),d.beforeDraw&&d.beforeDraw.call(this,v,m),!this.aborted&&(v.save(),v.translate(C/2,B/2),v.rotate(o*Math.PI/180),v.scale(s,u),v.drawImage.apply(v,[p].concat(W)),v.restore(),d.drew&&d.drew.call(this,v,m),!this.aborted)){var Y=function(t){e.aborted||e.done({naturalWidth:n,naturalHeight:r,result:t})};m.toBlob?m.toBlob(Y,d.mimeType,d.quality):Y(l(m.toDataURL(d.mimeType,d.quality)))}}},{key:"done",value:function(t){var e=t.naturalWidth,n=t.naturalHeight,r=t.result,i=this.file,o=this.image,a=this.options;if(M&&!a.checkOrientation&&M.revokeObjectURL(o.src),r)if(a.strict&&r.size>i.size&&a.mimeType===i.type&&!(a.width>e||a.height>n||a.minWidth>e||a.minHeight>n||a.maxWidth<e||a.maxHeight<n))r=i;else{var s=new Date;r.lastModified=s.getTime(),r.lastModifiedDate=s,r.name=i.name,r.name&&r.type!==i.type&&(r.name=r.name.replace(D,g(r.type)))}else r=i;this.result=r,a.success&&a.success.call(this,r)}},{key:"fail",value:function(t){var e=this.options;if(!e.error)throw t;e.error.call(this,t)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=R,t}},{key:"setDefaults",value:function(t){a(u,t)}}]),t}();return z}))},de49:function(t,e,n){n("26df")&&"g"!=/./g.flags&&n("bb8b").f(RegExp.prototype,"flags",{configurable:!0,get:n("6bf8")})},e186:function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(R){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=C(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(R){return{type:"throw",arg:R}}}t.wrap=c;var f="suspendedStart",p="suspendedYield",h="executing",d="completed",m={};function v(){}function b(){}function g(){}var y={};l(y,o,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(M([])));x&&x!==n&&r.call(x,o)&&(y=x);var S=g.prototype=v.prototype=Object.create(y);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;function o(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function C(t,e,n){var r=f;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return D()}n.method=i,n.arg=o;while(1){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=u(t,e,n);if("normal"===l.type){if(r=n.done?d:p,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=d,n.method="throw",n.arg=l.arg)}}}function _(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=u(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function M(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){while(++i<t.length)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:D}}function D(){return{value:e,done:!0}}return b.prototype=g,l(S,"constructor",g),l(g,"constructor",b),b.displayName=l(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,s,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},k(O.prototype),l(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new O(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),l(S,s,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},e5b4:function(t,e,n){"use strict";var r=n("e99b"),i=n("e9aa")(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("87b2")(o)},e7c8:function(t,e,n){var r=n("21d9"),i=n("0c29"),o=n("a86f"),a=n("0b34").Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},e9aa:function(t,e,n){var r=n("1e4d"),i=n("1b96"),o=n("8078"),a=n("201c"),s=n("70f2");t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,f=6==t,p=5==t||f,h=e||s;return function(e,s,d){for(var m,v,b=o(e),g=i(b),y=r(s,d,3),w=a(g.length),x=0,S=n?h(e,w):l?h(e,0):void 0;w>x;x++)if((p||x in g)&&(m=g[x],v=y(m,x,b),t))if(n)S[x]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:S.push(m)}else if(u)return!1;return f?-1:c||u?u:S}}}}]);
//# sourceMappingURL=chunk-ef8541fe.d254d852.js.map